"use strict";class HLContext{constructor(){this.components=new Map,this.inlineComponents={}}renderComponent(e){let t=HTMLess.valueToNode(e.body(this),this);if(t instanceof DocumentFragment)throw new Error("For simplicity, component bodies cannot be document fragments (a node representing multiple elements). Try encapsulating it inside a div");return this.components.has(e)?this.components.get(e).push(t):this.components.set(e,[t]),t}inlineComponent(e,t){let n=new Component;return n.body=e,this.inlineComponents[t]=n,n}getInlineComponent(e){let t=this.inlineComponents[e];if(void 0===t)throw new Error("No inline component with id '"+e+"' exists");return t}rerenderComponent(e){let t=this.components.get(e);this.components.set(e,[]);for(let n of t){let t=e.body(this).render(this);n.replaceWith(t),this.components.get(e).push(t)}}rerenderInlineComponent(e){this.rerenderComponent(this.getInlineComponent(e))}rerender(e){e instanceof Component?this.rerenderComponent(e):this.rerenderInlineComponent(e)}}class HLElement{constructor(e,t=[]){this.classes=[],this.attrs={},this.children=[],this.tagName=e,this.children=t,this.eventListeners=[]}setAttr(e,t=!0){return this.attrs[e]=t,this}onEvent(e,t,n){return this.eventListeners.push({type:e,callback:t,capture:n}),this}id(e){return this.setAttr("id",e)}contentEditable(e=!0){return this.setAttr("contenteditable",e)}draggable(e=!0){return this.setAttr("draggable",e)}spellcheck(e){return this.setAttr("spellcheck",e)}style(e){return this.setAttr("style",e)}class(e){return e&&this.classes.push(e),this}italicized(){return new HLElement("em",[this])}strikethrough(){return new HLElement("s",[this])}bold(){return new HLElement("strong",[this])}superscripted(){return new HLElement("sup",[this])}subscripted(){return new HLElement("sub",[this])}onClick(e){return this.onEvent("click",e),this}render(e=null){let t=document.createElement(this.tagName);this.classes.length>0&&t.classList.add(...this.classes);for(let[e,n]of Object.entries(this.attrs))t.setAttribute(e,n);for(let n of this.children){let r=HTMLess.valueToNode(n,e);t.appendChild(r)}for(let e of this.eventListeners)t.addEventListener(e.type,e.callback,e.capture);return t}}class InlineHTMLElement{constructor(e){this.content=e}render(){var e=document.createElement("template");return e.innerHTML=this.content,e.content}}class HTMLess{static valueToNode(e,t){if("object"!=typeof e)return document.createTextNode(e);if(e instanceof Component){if(!t)throw new Error("Cannot use Component outside of a HTMLess Context.");return t.renderComponent(e)}if(e instanceof Array){let n=document.createDocumentFragment();for(let r of e)n.appendChild(HTMLess.valueToNode(r,t));return n}if(e.render)return e.render(t);throw new Error("Invalid child type")}}function elementWithAttrSetters(...e){let t=class extends HLElement{};for(let n of e)t.prototype[n]=function(e){return this.attrs[n]=e,this};return t}function elementFunction(e,t=HLElement){return(...n)=>new t(e,n)}let div=elementFunction("div"),span=elementFunction("span"),hr=new HLElement("hr"),paragraph=elementFunction("p"),hyperlink=elementFunction("a",elementWithAttrSetters("href")),headers={h1:elementFunction("h1"),h2:elementFunction("h2"),h3:elementFunction("h3"),h4:elementFunction("h4"),h5:elementFunction("h5"),h6:elementFunction("h6")},newline=new HLElement("br"),smallText=elementFunction("small"),superscript=elementFunction("sup"),subscript=elementFunction("sub"),codeBlock=elementFunction("code"),image=function(e){return new(buildBaseElementSubclass("alt","crossorigin","decoding","height","width","loading"))("img").setAttr("src",e)};class HLVideoElement extends HLElement{autoplay(){return this.setAttr("autoplay")}controls(){return this.setAttr("autoplay")}width(e){return this.setAttr("width",e)}height(e){return this.setAttr("height",e)}loop(){return this.setAttr("loop")}muted(){return this.setAttr("muted")}poster(e){return this.setAttr("poster",e)}src(e){return this.setAttr("src",e)}}let video=elementFunction("video",HLVideoElement),button=elementFunction("button");class HLInputElement extends HLElement{constructor(e){super("input",[]),this.attrs.type=e}disabled(e=!0){return this.setAttr("disabled",e)}readonly(e=!0){return this.setAttr("readonly",e)}placeholder(e){return this.setAttr("placeholder",e)}autocomplete(e=!0){return this.setAttr("autocomplete",e)}name(e){return this.setAttr("name",e)}initialValue(e){return this.setAttr("value",e)}}class HLTextField extends HLInputElement{constructor(e){super(e)}maxlength(e){return this.setAttr("maxlength",e)}minlength(e){return this.setAttr("minlength",e)}min(e){return this.setAttr("min",e)}max(e){return this.setAttr("max",e)}pattern(e){return this.setAttr("pattern",e)}multiple(e=!0){return this.setAttr("multiple",e)}size(e){return this.setAttr("size",e)}}class HLDateField extends HLInputElement{constructor(){super("checkbox")}}class HLFileUpload extends HLInputElement{constructor(){super("file")}allowedFileTypes(e){return this.setAttr("accept",e.join(","))}multiple(e=!0){return this.setAttr("multiple",e)}capture(e){return this.setAttr("capture",e)}}let input={text:()=>new HLTextField("text"),numeric:()=>new HLTextField("number"),email:()=>new HLTextField("email"),password:()=>new HLTextField("password"),search:()=>new HLTextField("search"),phoneNumber:()=>new HLTextField("tel"),url:()=>new HLTextField("url"),checkbox:()=>new HLInputElement("checkbox"),radio:()=>new HLInputElement("radio"),date:()=>new HLInputElement("date"),datetimeLocal:()=>new HLInputElement("datetime-local"),month:()=>new HLInputElement("month"),week:()=>new HLInputElement("week"),file:()=>new HLFileUpload,color:()=>new HLInputElement("color")},inlineHTML=function(e){return new InlineHTMLElement(e)};class Component{body(){throw new Error("No render method specified for this component")}}